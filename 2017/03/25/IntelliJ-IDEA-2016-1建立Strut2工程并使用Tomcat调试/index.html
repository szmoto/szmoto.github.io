<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Java,JavaEE,JSP," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="http://www.mobibrw.com/2016/3494   IntelliJ IDEA 2016.1建立 Strut2工程的步骤如下： 1.从菜单中选择新建工程：  2.在弹出的窗口中，左侧的列表中，选择&amp;#8221; Java&amp;#8220;,在右侧的&amp;#8221; Project SDK&amp;#8220;中指明需要的 Java SDK的版本，目前要求是1.8版本的，在下面的&amp;#8221;">
<meta name="keywords" content="Java,JavaEE,JSP">
<meta property="og:type" content="article">
<meta property="og:title" content="IntelliJ IDEA 2016.1建立Strut2工程并使用Tomcat调试">
<meta property="og:url" content="http://blog.idingsong.cn/2017/03/25/IntelliJ-IDEA-2016-1建立Strut2工程并使用Tomcat调试/index.html">
<meta property="og:site_name" content="会思考的生活">
<meta property="og:description" content="http://www.mobibrw.com/2016/3494   IntelliJ IDEA 2016.1建立 Strut2工程的步骤如下： 1.从菜单中选择新建工程：  2.在弹出的窗口中，左侧的列表中，选择&amp;#8221; Java&amp;#8220;,在右侧的&amp;#8221; Project SDK&amp;#8220;中指明需要的 Java SDK的版本，目前要求是1.8版本的，在下面的&amp;#8221;">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/NewProjectMenu.png">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/NewStucts2Project.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/JavaEnterpriseStruct2ProjectName.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/JavaEnterpriseStruct2ProjectView.png">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/ProjectStuctureButton.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/ProjectStuctureWindow2.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/ProjectStuctureWindowStruts2Lib.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/ProjectStuctureWindowStruts2LibMenu.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/ProjectStuctureWindowStruts2LibComplete.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/EditConfigurations.png">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/RunDebugConfigurations.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/RunDebugConfigurationsAddSettings.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/RunDebugConfigurationsAddSettings.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/Tomcat9DownloadPage.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/RunDebugConfigurationsTomcatServerLocalSettingsFirst.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/RunDebugConfigurationsTomcatServerLocalSettingsSecond.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/RunDebugConfigurationsTomcatServerLocalSettings.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/RunDebugConfigurationsTomcatServerLocalSettingsAfterConfigure.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/RunDebugConfigurationsTomcatServerLocalSettingsFixButtonClick.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/RunDebugConfigurationsFix2.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/RunDebugConfigurationsTomcatServerLocalSettingsDebug.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/ideaStucts2Complete.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/NewJavaMenu.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/NewJavaModel.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/NewJSPMenu.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/NewJSPWindow.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/NewJavaMenu.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/NewJSPActionWindow.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/TimeConvertIndex.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/TimeConvertAction.jpg">
<meta property="og:image" content="https://www.mobibrw.com/wp-content/uploads/2016/03/struts.custom.i18n.resources.png">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/Struts2i18n.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/AddFrameworkSupport.png">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/SpringSelectOptions.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/SpringFrameworkAddComplete.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/SpringFrameworkAddCompleteWebInf.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/SpringFrameworkProjectStructure.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/SpringFrameworkFix.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/SpringFrameworkFixMenu.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/SpringFrameworkProjectStructure.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/StrutsVersion2-2.3.20.1.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/Struts2JSONPlugin.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/AddasLibrary.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/AddasLibraryWindow.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/SpringFrameworkProjectStructure.jpg">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/AddStruts2-json-plugin-2.3.20.1totheartifact.png">
<meta property="og:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/ActionJsonResp.jpg">
<meta property="og:updated_time" content="2017-06-24T10:21:17.969Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="IntelliJ IDEA 2016.1建立Strut2工程并使用Tomcat调试">
<meta name="twitter:description" content="http://www.mobibrw.com/2016/3494   IntelliJ IDEA 2016.1建立 Strut2工程的步骤如下： 1.从菜单中选择新建工程：  2.在弹出的窗口中，左侧的列表中，选择&amp;#8221; Java&amp;#8220;,在右侧的&amp;#8221; Project SDK&amp;#8220;中指明需要的 Java SDK的版本，目前要求是1.8版本的，在下面的&amp;#8221;">
<meta name="twitter:image" content="http://www.mobibrw.com/wp-content/uploads/2016/03/NewProjectMenu.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://blog.idingsong.cn/2017/03/25/IntelliJ-IDEA-2016-1建立Strut2工程并使用Tomcat调试/"/>





  <title> IntelliJ IDEA 2016.1建立Strut2工程并使用Tomcat调试 | 会思考的生活 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">会思考的生活</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Thinking about Me.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocapitalize="off" autocomplete="off" autocorrect="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://blog.idingsong.cn/2017/03/25/IntelliJ-IDEA-2016-1建立Strut2工程并使用Tomcat调试/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="i_D.S.">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="会思考的生活">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                IntelliJ IDEA 2016.1建立Strut2工程并使用Tomcat调试
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-25T12:37:12+08:00">
                2017-03-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote>
<p><a href="http://www.mobibrw.com/2016/3494" target="_blank" rel="external">http://www.mobibrw.com/2016/3494</a></p>
</blockquote>
<p><span id="more-77"></span></p>
<p><span id="crayon-58d5f01e10a96562486865" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">IntelliJ </span><span class="crayon-i">IDEA</span> <span class="crayon-cn">2016.1</span></span></span>建立 <span id="crayon-58d5f01e10aa6485022057" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Strut2</span></span></span>工程的步骤如下：</p>
<p><strong>1.从菜单中选择新建工程：</strong></p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/NewProjectMenu.png" alt="NewProjectMenu"></p>
<p><strong>2.在弹出的窗口中，左侧的列表中，选择&#8221; <span id="crayon-58d5f01e10aac873833810" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Java</span></span></span>&#8220;,在右侧的&#8221; <span id="crayon-58d5f01e10ab1838034387" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">Project </span><span class="crayon-v">SDK</span></span></span>&#8220;中指明需要的 <span id="crayon-58d5f01e10ab6987558137" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">Java </span><span class="crayon-v">SDK</span></span></span>的版本，目前要求是1.8版本的，在下面的&#8221; <span id="crayon-58d5f01e10abb606130575" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">Additional</span><span class="crayon-e">Libraries </span><span class="crayon-st">and</span> <span class="crayon-v">Frameworks</span></span></span>&#8220;中找到&#8221; <span id="crayon-58d5f01e10ac0276358031" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-i">Struts</span> <span class="crayon-cn">2</span></span></span>&#8220;,并选中,同时选中&#8221; <span id="crayon-58d5f01e10ac5803525692" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">Web</span><span class="crayon-v">Application</span></span></span>&#8220;。</strong></p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/NewStucts2Project.jpg" alt="NewStucts2Project"></p>
<p><strong>3.点击下面的&#8221; <span id="crayon-58d5f01e10aca277135088" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Next</span></span></span>&#8220;按钮。</strong></p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/JavaEnterpriseStruct2ProjectName.jpg" alt="JavaEnterpriseStruct2ProjectName"></p>
<p><strong>4.等待 <span id="crayon-58d5f01e10acf867274270" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">IntelliJ </span><span class="crayon-v">IDEA</span></span></span>下载完成必须的插件。点击左侧的&#8221; <span id="crayon-58d5f01e10ad4919842469" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Project</span></span></span>&#8220;边栏，之后可以到如下界面.</strong></p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/JavaEnterpriseStruct2ProjectView.png" alt="JavaEnterpriseStruct2ProjectView"></p>
<p>点击右侧的&#8221; <span id="crayon-58d5f01e10ad9628740647" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">Project </span><span class="crayon-v">Stucture</span></span></span>&#8220;按钮，如下图：</p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/ProjectStuctureButton.jpg" alt="ProjectStuctureButton"></p>
<p>修复存在的问题：</p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/ProjectStuctureWindow2.jpg" alt="ProjectStuctureWindow2"></p>
<p>点击后出现的界面如下：</p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/ProjectStuctureWindowStruts2Lib.jpg" alt="ProjectStuctureWindowStruts2Lib"></p>
<p>在弹出的菜单中，选择&#8221; <span id="crayon-58d5f01e10adf901694507" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">Put </span><span class="crayon-v">into</span> <span class="crayon-o">/</span><span class="crayon-v">Web</span><span class="crayon-o">&#8211;</span><span class="crayon-v">INF</span><span class="crayon-o">/</span><span class="crayon-v">lib</span></span></span>&#8220;。</p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/ProjectStuctureWindowStruts2LibMenu.jpg" alt="ProjectStuctureWindowStruts2LibMenu"></p>
<p>配置完成后的界面如下：</p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/ProjectStuctureWindowStruts2LibComplete.jpg" alt="ProjectStuctureWindowStruts2LibComplete"></p>
<p>点击&#8221; <span id="crayon-58d5f01e10ae4260370699" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">OK</span></span></span>&#8220;，关闭窗口。</p>
<p><strong>5.编辑配置信息&#8221; <span id="crayon-58d5f01e10ae9457201415" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">Edit </span><span class="crayon-v">Configurations</span></span></span>&#8220;</strong></p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/EditConfigurations.png" alt="EditConfigurations"></p>
<p><strong>6.在弹出的界面中点开右侧的&#8221;+&#8221;符号,也可以点击左侧顶部的&#8221;+&#8221;号。</strong></p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/RunDebugConfigurations.jpg" alt="RunDebugConfigurations"></p>
<p><strong>7.在弹出的界面中，一直下拉，找到&#8221; <span id="crayon-58d5f01e10aee133759972" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">Tomcat </span><span class="crayon-v">Server</span></span></span>&#8220;,点击展开，选择&#8221;<span id="crayon-58d5f01e10af3058891715" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Local</span></span></span>&#8220;</strong></p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/RunDebugConfigurationsAddSettings.jpg" alt="RunDebugConfigurationsAddSettings"></p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/RunDebugConfigurationsAddSettings.jpg" alt="RunDebugConfigurationsAddSettings"></p>
<p><strong>8.下载并安装<a href="https://tomcat.apache.org/" target="_blank" rel="external">Tomcat 9</a></strong></p>
<p>Windows下面，建议安装 &#8221; <span id="crayon-58d5f01e10af8519192898" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-cn">32</span><span class="crayon-o">&#8211;</span><span class="crayon-v">bit</span><span class="crayon-o">/</span><span class="crayon-cn">64</span><span class="crayon-o">&#8211;</span><span class="crayon-e">bit </span><span class="crayon-e">Windows </span><span class="crayon-e">Service </span><span class="crayon-v">Installer</span></span></span>&#8221;</p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/Tomcat9DownloadPage.jpg" alt="Tomcat9DownloadPage"></p>
<p><strong>9.安装最新的 <span id="crayon-58d5f01e10afd861156395" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">Java </span><span class="crayon-e">SE </span><span class="crayon-e">Development </span><span class="crayon-v">Kit</span></span></span></strong></p>
<p>目前最新的版本是 <span id="crayon-58d5f01e10b02436620542" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-cn">8u73</span></span></span>。保证电脑上面是最新的，如果使用 <span id="crayon-58d5f01e10b07274890541" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-i">JDK</span> <span class="crayon-cn">7</span></span></span>的话，会由于 <span id="crayon-58d5f01e10b0d676372799" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Tomcat</span></span></span>的版本号太高导致在调试的时候报告如下错误：</p>
<div id="crayon-58d5f01e10b14629680338" class="crayon-syntax crayon-theme-secrets-of-rock crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><br><div class="crayon-plain-wrap"></div><br><div class="crayon-main"><br><table class="crayon-table"><br><tbody><br><tr class="crayon-row"><br><td class="crayon-nums " data-settings="show"><br><div class="crayon-nums-content"><br><div class="crayon-num" data-line="crayon-58d5f01e10b14629680338-1">1</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10b14629680338-2">2</div><br></div><br></td><br><td class="crayon-code"><br><div class="crayon-pre"><br><div id="crayon-58d5f01e10b14629680338-1" class="crayon-line"><span class="crayon-e">Application </span><span class="crayon-e">Server </span><span class="crayon-e">was </span><span class="crayon-st">not</span> <span class="crayon-e">connected </span><span class="crayon-e">before </span><span class="crayon-e">run </span><span class="crayon-e">configuration </span><span class="crayon-v">stop</span><span class="crayon-sy">,</span> <span class="crayon-v">reason</span><span class="crayon-o">:</span></div><br><div id="crayon-58d5f01e10b14629680338-2" class="crayon-line crayon-striped-line"><span class="crayon-h">         </span><span class="crayon-e">Unable </span><span class="crayon-st">to</span> <span class="crayon-e">ping </span><span class="crayon-e">server </span><span class="crayon-r">at</span> <span class="crayon-v">localhost</span><span class="crayon-o">:</span><span class="crayon-cn">9099</span></div><br></div><br></td><br></tr><br></tbody><br></table><br></div><br></div>

<p>这个错误的原因是由于 <span id="crayon-58d5f01e10b1a611142063" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-i">JDK</span> <span class="crayon-cn">1.7</span></span></span>是默认没有包含 <span id="crayon-58d5f01e10b1f494993147" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">JMS</span></span></span>服务的，导致 <span id="crayon-58d5f01e10b23441966070" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Idea</span></span></span>通过<span id="crayon-58d5f01e10b28705736827" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">JMS</span></span></span>跟 <span id="crayon-58d5f01e10b2d900492441" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Tomcat</span></span></span>通信的时候失败。</p>
<p><strong>10.设置 <span id="crayon-58d5f01e10b32027297425" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">Tomcat </span><span class="crayon-v">Server</span></span></span></strong></p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/RunDebugConfigurationsTomcatServerLocalSettingsFirst.jpg" alt="RunDebugConfigurationsTomcatServerLocalSettingsFirst"></p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/RunDebugConfigurationsTomcatServerLocalSettingsSecond.jpg" alt="RunDebugConfigurationsTomcatServerLocalSettingsSecond"></p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/RunDebugConfigurationsTomcatServerLocalSettings.jpg" alt="RunDebugConfigurationsTomcatServerLocalSettings"></p>
<p>配置完成后的界面显示如下：</p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/RunDebugConfigurationsTomcatServerLocalSettingsAfterConfigure.jpg" alt="RunDebugConfigurationsTomcatServerLocalSettingsAfterConfigure"></p>
<p>此时底部提示&#8221; <span id="crayon-58d5f01e10b37450334683" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">Warning </span><span class="crayon-e">No </span><span class="crayon-e">artificts </span><span class="crayon-v">configured</span></span></span>&#8220;,点击底部的&#8221; <span id="crayon-58d5f01e10b3c917605474" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Fix</span></span></span>&#8220;按钮。</p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/RunDebugConfigurationsTomcatServerLocalSettingsFixButtonClick.jpg" alt="RunDebugConfigurationsTomcatServerLocalSettingsFixButtonClick"></p>
<p>出现的窗口中自动帮我们加入了&#8221; <span id="crayon-58d5f01e10b41656084399" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Tools</span><span class="crayon-o">:</span><span class="crayon-e">war </span><span class="crayon-v">exploded</span></span></span>&#8220;项目，点击下面的&#8221;<span id="crayon-58d5f01e10b46209143423" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Apply</span></span></span>&#8220;按钮后，点击&#8221; <span id="crayon-58d5f01e10b4a284414168" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">OK</span></span></span>&#8220;关闭设置页面。</p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/RunDebugConfigurationsFix2.jpg" alt="RunDebugConfigurationsFix2"></p>
<p><strong>11.调试，点击主界面上面的调试图标，即可进入调试，此时会在默认的浏览器上打开网页。</strong></p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/RunDebugConfigurationsTomcatServerLocalSettingsDebug.jpg" alt="RunDebugConfigurationsTomcatServerLocalSettingsDebug"></p>
<p>最后，浏览器上出现如下画面，说明设置成功。</p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/ideaStucts2Complete.jpg" alt="ideaStucts2Complete"></p>
<p><strong>12.创建一个简单的 <span id="crayon-58d5f01e10b50163772573" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Stucts2</span></span></span>的 <span id="crayon-58d5f01e10b54577442051" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">MVC</span></span></span>例子&#8212;- <span id="crayon-58d5f01e10b59092388024" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">TimeConvert</span></span></span></strong></p>
<p>(1)先创建一个 <span id="crayon-58d5f01e10b5e872916435" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Model</span></span></span>类来存放数据</p>
<p>首先，在 <span id="crayon-58d5f01e10b63263561357" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">src</span></span></span>目录上鼠标右击，选择&#8221; <span id="crayon-58d5f01e10b68939877649" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-r">New</span></span></span>&#8220;-&gt; &#8221; <span id="crayon-58d5f01e10b6c109717516" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">Java </span><span class="crayon-t">Class</span></span></span>&#8220;并在对话框中输入名字&#8221; <span id="crayon-58d5f01e10b71619754523" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Tools</span><span class="crayon-e">.Model</span><span class="crayon-e">.TimeConvertStore</span></span></span>&#8220;，点击&#8221; <span id="crayon-58d5f01e10b76795383995" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">OK</span></span></span>&#8220;。</p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/NewJavaMenu.jpg" alt="NewJavaMenu"></p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/NewJavaModel.jpg" alt="NewJavaModel"></p>
<p>里面的代码如下：</p>
<div id="crayon-58d5f01e10b7a840713078" class="crayon-syntax crayon-theme-secrets-of-rock crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><br><div class="crayon-plain-wrap"></div><br><div class="crayon-main"><br><table class="crayon-table"><br><tbody><br><tr class="crayon-row"><br><td class="crayon-nums " data-settings="show"><br><div class="crayon-nums-content"><br><div class="crayon-num" data-line="crayon-58d5f01e10b7a840713078-1">1</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10b7a840713078-2">2</div><br><div class="crayon-num" data-line="crayon-58d5f01e10b7a840713078-3">3</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10b7a840713078-4">4</div><br><div class="crayon-num" data-line="crayon-58d5f01e10b7a840713078-5">5</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10b7a840713078-6">6</div><br><div class="crayon-num" data-line="crayon-58d5f01e10b7a840713078-7">7</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10b7a840713078-8">8</div><br><div class="crayon-num" data-line="crayon-58d5f01e10b7a840713078-9">9</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10b7a840713078-10">10</div><br><div class="crayon-num" data-line="crayon-58d5f01e10b7a840713078-11">11</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10b7a840713078-12">12</div><br><div class="crayon-num" data-line="crayon-58d5f01e10b7a840713078-13">13</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10b7a840713078-14">14</div><br></div><br></td><br><td class="crayon-code"><br><div class="crayon-pre"><br><div id="crayon-58d5f01e10b7a840713078-1" class="crayon-line"><span class="crayon-t">package</span> <span class="crayon-v">Tools</span><span class="crayon-sy">.</span><span class="crayon-v">Model</span><span class="crayon-sy">;</span></div><br><div id="crayon-58d5f01e10b7a840713078-2" class="crayon-line crayon-striped-line"></div><br><div id="crayon-58d5f01e10b7a840713078-3" class="crayon-line"><span class="crayon-m">public</span> <span class="crayon-t">class</span> <span class="crayon-e">TimeConvertStore</span> <span class="crayon-sy">{</span></div><br><div id="crayon-58d5f01e10b7a840713078-4" class="crayon-line crayon-striped-line"><span class="crayon-h">    </span></div><br><div id="crayon-58d5f01e10b7a840713078-5" class="crayon-line"><span class="crayon-h">    </span><span class="crayon-m">public</span> <span class="crayon-t">String</span> <span class="crayon-e">getConvertTime</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span> <span class="crayon-sy">{</span></div><br><div id="crayon-58d5f01e10b7a840713078-6" class="crayon-line crayon-striped-line"><span class="crayon-h">        </span><span class="crayon-st">return</span> <span class="crayon-v">convertTime</span><span class="crayon-sy">;</span></div><br><div id="crayon-58d5f01e10b7a840713078-7" class="crayon-line"><span class="crayon-h">    </span><span class="crayon-sy">}</span></div><br><div id="crayon-58d5f01e10b7a840713078-8" class="crayon-line crayon-striped-line"></div><br><div id="crayon-58d5f01e10b7a840713078-9" class="crayon-line"><span class="crayon-h">    </span><span class="crayon-m">public</span> <span class="crayon-t">void</span> <span class="crayon-e">setConvertTime</span><span class="crayon-sy">(</span><span class="crayon-t">String</span> <span class="crayon-v">time</span><span class="crayon-sy">)</span> <span class="crayon-sy">{</span></div><br><div id="crayon-58d5f01e10b7a840713078-10" class="crayon-line crayon-striped-line"><span class="crayon-h">        </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">convertTime</span> <span class="crayon-o">=</span> <span class="crayon-v">time</span><span class="crayon-sy">;</span></div><br><div id="crayon-58d5f01e10b7a840713078-11" class="crayon-line"><span class="crayon-h">    </span><span class="crayon-sy">}</span></div><br><div id="crayon-58d5f01e10b7a840713078-12" class="crayon-line crayon-striped-line"></div><br><div id="crayon-58d5f01e10b7a840713078-13" class="crayon-line"><span class="crayon-h">    </span><span class="crayon-m">private</span> <span class="crayon-t">String</span> <span class="crayon-v">convertTime</span><span class="crayon-sy">;</span></div><br><div id="crayon-58d5f01e10b7a840713078-14" class="crayon-line crayon-striped-line"><span class="crayon-sy">}</span></div><br></div><br></td><br></tr><br></tbody><br></table><br></div><br></div>

<p>这个 <span id="crayon-58d5f01e10b7f366866352" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Model</span></span></span>类的 <span id="crayon-58d5f01e10b84242394940" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">public </span><span class="crayon-v">set</span></span></span>和 <span id="crayon-58d5f01e10b88311792993" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-r">get</span></span></span>方法允许访问 <span id="crayon-58d5f01e10b8d508428359" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">private </span><span class="crayon-v">convertTime</span></span></span>字符串属性，<span id="crayon-58d5f01e10b92197267568" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-i">Struts</span> <span class="crayon-cn">2</span></span></span>框架需要将这个对象按照 <span id="crayon-58d5f01e10b96325850272" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">JavaBean</span></span></span>方式暴露给 <span id="crayon-58d5f01e10b9b930138743" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">View</span><span class="crayon-sy">(</span><span class="crayon-v">TimeConvert</span><span class="crayon-e">.jsp</span><span class="crayon-sy">)</span></span></span>。</p>
<p>(2)创建 <span id="crayon-58d5f01e10ba0588055819" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">View</span></span></span>页面来显示 <span id="crayon-58d5f01e10ba4920038609" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Model</span></span></span>类里存储的 <span id="crayon-58d5f01e10ba9275217471" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">convertTime</span></span></span>.</p>
<p>在 <span id="crayon-58d5f01e10bad736438693" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">web</span></span></span>目录上鼠标右击，选择&#8221; <span id="crayon-58d5f01e10bb2265457185" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-r">New</span></span></span>&#8220;-&gt; &#8221; <span id="crayon-58d5f01e10bb7878977763" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-r">File</span></span></span>&#8220;并在对话框中输入名字&#8221;<span id="crayon-58d5f01e10bbb045728459" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">TimeConvert</span><span class="crayon-e">.jsp</span></span></span>&#8220;，点击&#8221; <span id="crayon-58d5f01e10bc0579940872" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">OK</span></span></span>&#8220;新建一个 <span id="crayon-58d5f01e10bc5373531785" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">TimeConvert</span><span class="crayon-e">.jsp</span></span></span>的 <span id="crayon-58d5f01e10bc9679674445" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">jsp</span></span></span>页面.</p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/NewJSPMenu.jpg" alt="NewJSPMenu"></p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/NewJSPWindow.jpg" alt="NewJSPWindow"></p>
<p>代码如下：</p>
<div id="crayon-58d5f01e10bce839015554" class="crayon-syntax crayon-theme-secrets-of-rock crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><br><div class="crayon-plain-wrap"></div><br><div class="crayon-main"><br><table class="crayon-table"><br><tbody><br><tr class="crayon-row"><br><td class="crayon-nums " data-settings="show"><br><div class="crayon-nums-content"><br><div class="crayon-num" data-line="crayon-58d5f01e10bce839015554-1">1</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10bce839015554-2">2</div><br><div class="crayon-num" data-line="crayon-58d5f01e10bce839015554-3">3</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10bce839015554-4">4</div><br><div class="crayon-num" data-line="crayon-58d5f01e10bce839015554-5">5</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10bce839015554-6">6</div><br><div class="crayon-num" data-line="crayon-58d5f01e10bce839015554-7">7</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10bce839015554-8">8</div><br><div class="crayon-num" data-line="crayon-58d5f01e10bce839015554-9">9</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10bce839015554-10">10</div><br></div><br></td><br><td class="crayon-code"><br><div class="crayon-pre"><br><div id="crayon-58d5f01e10bce839015554-1" class="crayon-line"><span class="crayon-ta">&lt;%</span><span class="crayon-sy">@</span> <span class="crayon-i">page</span> <span class="crayon-v">contentType</span><span class="crayon-o">=</span><span class="crayon-s">&#8220;text/html;charset=UTF-8&#8221;</span> <span class="crayon-v">language</span><span class="crayon-o">=</span><span class="crayon-s">&#8220;java&#8221;</span> <span class="crayon-ta">%&gt;</span></div><br><div id="crayon-58d5f01e10bce839015554-2" class="crayon-line crayon-striped-line"><span class="crayon-ta">&lt;%</span><span class="crayon-sy">@</span> <span class="crayon-i">taglib</span> <span class="crayon-v">prefix</span><span class="crayon-o">=</span><span class="crayon-s">&#8220;s&#8221;</span> <span class="crayon-v">uri</span><span class="crayon-o">=</span><span class="crayon-s">&#8220;/struts-tags&#8221;</span> <span class="crayon-ta">%&gt;</span></div><br><div id="crayon-58d5f01e10bce839015554-3" class="crayon-line"><span class="crayon-o">&lt;</span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div><br><div id="crayon-58d5f01e10bce839015554-4" class="crayon-line crayon-striped-line"><span class="crayon-o">&lt;</span><span class="crayon-v">head</span><span class="crayon-o">&gt;</span></div><br><div id="crayon-58d5f01e10bce839015554-5" class="crayon-line"><span class="crayon-h">    </span><span class="crayon-o">&lt;</span><span class="crayon-v">title</span><span class="crayon-o">&gt;</span><span class="crayon-v">Title</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">title</span><span class="crayon-o">&gt;</span></div><br><div id="crayon-58d5f01e10bce839015554-6" class="crayon-line crayon-striped-line"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">head</span><span class="crayon-o">&gt;</span></div><br><div id="crayon-58d5f01e10bce839015554-7" class="crayon-line"><span class="crayon-o">&lt;</span><span class="crayon-v">body</span><span class="crayon-o">&gt;</span></div><br><div id="crayon-58d5f01e10bce839015554-8" class="crayon-line crayon-striped-line"><span class="crayon-o">&lt;</span><span class="crayon-v">h2</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-v">s</span><span class="crayon-o">:</span><span class="crayon-m">property</span> <span class="crayon-e ">value</span><span class="crayon-o">=</span><span class="crayon-s">&#8220;timeConvertStore.convertTime&#8221;</span> <span class="crayon-o">/</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h2</span><span class="crayon-o">&gt;</span></div><br><div id="crayon-58d5f01e10bce839015554-9" class="crayon-line"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">body</span><span class="crayon-o">&gt;</span></div><br><div id="crayon-58d5f01e10bce839015554-10" class="crayon-line crayon-striped-line"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div><br></div><br></td><br></tr><br></tbody><br></table><br></div><br></div>

<p>页面中的 <span id="crayon-58d5f01e10bd3095222463" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">taglib</span></span></span>告诉 <span id="crayon-58d5f01e10bd8672277329" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Servlet</span></span></span>容器这个页面将使用 <span id="crayon-58d5f01e10bdd658366774" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-i">Struts</span> <span class="crayon-cn">2</span></span></span>的 <span id="crayon-58d5f01e10be1383354891" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">tags</span></span></span>并且将它们用 <span id="crayon-58d5f01e10be6885443447" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">s</span></span></span>来表示。</p>
<p><span id="crayon-58d5f01e10beb599849256" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">s</span><span class="crayon-o">:</span><span class="crayon-v">property</span></span></span>的 <span id="crayon-58d5f01e10bef065166051" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">tag</span></span></span>标签返回调用 <span id="crayon-58d5f01e10bf4499095186" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">TimeConvertAction </span><span class="crayon-e">controller </span><span class="crayon-t">class</span></span></span>的<span id="crayon-58d5f01e10bf9981585535" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">getTimeConvertStore</span></span></span>方法后的值。这个方法返回一个 <span id="crayon-58d5f01e10bfd881164153" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">TimeConvertStore</span></span></span>对象。在<span id="crayon-58d5f01e10c02440003211" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">TimeConvertStore</span></span></span>加上了 <span id="crayon-58d5f01e10c07401274175" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">.convertTime</span></span></span>后，就可以告诉 <span id="crayon-58d5f01e10c0b942335932" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-i">Struts</span> <span class="crayon-cn">2</span></span></span>框架将调用<span id="crayon-58d5f01e10c10772391745" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">TimeConvertStore</span></span></span>的 <span id="crayon-58d5f01e10c15482313570" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">getConvertTime</span></span></span>方法。 <span id="crayon-58d5f01e10c19403664277" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">TimeConvertStore</span></span></span>的 <span id="crayon-58d5f01e10c1e799179542" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">getConvertTime</span></span></span>方法返回一个字符串，然后这个字符串将被 <span id="crayon-58d5f01e10c23719488874" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">s</span><span class="crayon-o">:</span><span class="crayon-v">property</span></span></span>标签显示。</p>
<p>(3)创建一个 <span id="crayon-58d5f01e10c27735742002" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Action</span></span></span>类 <span id="crayon-58d5f01e10c2c679095170" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">TimeConvertAction</span><span class="crayon-e">.java</span></span></span>作为 <span id="crayon-58d5f01e10c31361704458" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Controller</span></span></span>.</p>
<p>在 <span id="crayon-58d5f01e10c36668477440" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">src</span></span></span>目录上鼠标右击，选择&#8221; <span id="crayon-58d5f01e10c3a964437299" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-r">New</span></span></span>&#8220;-&gt;&#8221; <span id="crayon-58d5f01e10c3f162202558" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">Java </span><span class="crayon-t">Class</span></span></span>&#8220;并在对话框中输入名字&#8221;<span id="crayon-58d5f01e10c44197857717" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Tools</span><span class="crayon-e">.Controller</span><span class="crayon-e">.TimeConvertAction</span></span></span>&#8220;，点击&#8221; <span id="crayon-58d5f01e10c48032620557" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">OK</span></span></span>&#8220;.</p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/NewJavaMenu.jpg" alt="NewJavaMenu"></p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/NewJSPActionWindow.jpg" alt="NewJSPActionWindow"></p>
<p>代码如下：</p>
<div id="crayon-58d5f01e10c4d655202073" class="crayon-syntax crayon-theme-secrets-of-rock crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><br><div class="crayon-plain-wrap"></div><br><div class="crayon-main"><br><table class="crayon-table"><br><tbody><br><tr class="crayon-row"><br><td class="crayon-nums " data-settings="show"><br><div class="crayon-nums-content"><br><div class="crayon-num" data-line="crayon-58d5f01e10c4d655202073-1">1</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10c4d655202073-2">2</div><br><div class="crayon-num" data-line="crayon-58d5f01e10c4d655202073-3">3</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10c4d655202073-4">4</div><br><div class="crayon-num" data-line="crayon-58d5f01e10c4d655202073-5">5</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10c4d655202073-6">6</div><br><div class="crayon-num" data-line="crayon-58d5f01e10c4d655202073-7">7</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10c4d655202073-8">8</div><br><div class="crayon-num" data-line="crayon-58d5f01e10c4d655202073-9">9</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10c4d655202073-10">10</div><br><div class="crayon-num" data-line="crayon-58d5f01e10c4d655202073-11">11</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10c4d655202073-12">12</div><br><div class="crayon-num" data-line="crayon-58d5f01e10c4d655202073-13">13</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10c4d655202073-14">14</div><br><div class="crayon-num" data-line="crayon-58d5f01e10c4d655202073-15">15</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10c4d655202073-16">16</div><br><div class="crayon-num" data-line="crayon-58d5f01e10c4d655202073-17">17</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10c4d655202073-18">18</div><br><div class="crayon-num" data-line="crayon-58d5f01e10c4d655202073-19">19</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10c4d655202073-20">20</div><br><div class="crayon-num" data-line="crayon-58d5f01e10c4d655202073-21">21</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10c4d655202073-22">22</div><br><div class="crayon-num" data-line="crayon-58d5f01e10c4d655202073-23">23</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10c4d655202073-24">24</div><br><div class="crayon-num" data-line="crayon-58d5f01e10c4d655202073-25">25</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10c4d655202073-26">26</div><br><div class="crayon-num" data-line="crayon-58d5f01e10c4d655202073-27">27</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10c4d655202073-28">28</div><br><div class="crayon-num" data-line="crayon-58d5f01e10c4d655202073-29">29</div><br></div><br></td><br><td class="crayon-code"><br><div class="crayon-pre"><br><div id="crayon-58d5f01e10c4d655202073-1" class="crayon-line"><span class="crayon-t">package</span> <span class="crayon-v">Tools</span><span class="crayon-sy">.</span><span class="crayon-v">Controller</span><span class="crayon-sy">;</span></div><br><div id="crayon-58d5f01e10c4d655202073-2" class="crayon-line crayon-striped-line"></div><br><div id="crayon-58d5f01e10c4d655202073-3" class="crayon-line"><span class="crayon-r">import</span> <span class="crayon-v">Tools</span><span class="crayon-sy">.</span><span class="crayon-v">Model</span><span class="crayon-sy">.</span><span class="crayon-v">TimeConvertStore</span><span class="crayon-sy">;</span></div><br><div id="crayon-58d5f01e10c4d655202073-4" class="crayon-line crayon-striped-line"><span class="crayon-r">import</span> <span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">opensymphony</span><span class="crayon-sy">.</span><span class="crayon-v">xwork2</span><span class="crayon-sy">.</span><span class="crayon-v">ActionSupport</span><span class="crayon-sy">;</span></div><br><div id="crayon-58d5f01e10c4d655202073-5" class="crayon-line"></div><br><div id="crayon-58d5f01e10c4d655202073-6" class="crayon-line crayon-striped-line"><span class="crayon-r">import</span> <span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">text</span><span class="crayon-sy">.</span><span class="crayon-v">SimpleDateFormat</span><span class="crayon-sy">;</span></div><br><div id="crayon-58d5f01e10c4d655202073-7" class="crayon-line"><span class="crayon-r">import</span> <span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">Date</span><span class="crayon-sy">;</span></div><br><div id="crayon-58d5f01e10c4d655202073-8" class="crayon-line crayon-striped-line"></div><br><div id="crayon-58d5f01e10c4d655202073-9" class="crayon-line"><span class="crayon-m">public</span> <span class="crayon-t">class</span> <span class="crayon-e">TimeConvertAction</span> <span class="crayon-r">extends</span> <span class="crayon-e">ActionSupport</span> <span class="crayon-sy">{</span></div><br><div id="crayon-58d5f01e10c4d655202073-10" class="crayon-line crayon-striped-line"></div><br><div id="crayon-58d5f01e10c4d655202073-11" class="crayon-line"><span class="crayon-h">        </span><span class="crayon-m">public</span> <span class="crayon-t">String</span> <span class="crayon-e">execute</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span> <span class="crayon-m">throws</span> <span class="crayon-e">Exception</span> <span class="crayon-sy">{</span></div><br><div id="crayon-58d5f01e10c4d655202073-12" class="crayon-line crayon-striped-line"></div><br><div id="crayon-58d5f01e10c4d655202073-13" class="crayon-line"><span class="crayon-h">            </span><span class="crayon-v">timeConvertStore</span> <span class="crayon-o">=</span> <span class="crayon-r">new</span> <span class="crayon-e">TimeConvertStore</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><br><div id="crayon-58d5f01e10c4d655202073-14" class="crayon-line crayon-striped-line"><span class="crayon-h">            </span><span class="crayon-e">SimpleDateFormat </span><span class="crayon-v">df</span> <span class="crayon-o">=</span> <span class="crayon-r">new</span> <span class="crayon-e">SimpleDateFormat</span><span class="crayon-sy">(</span><span class="crayon-s">&#8220;yyyy-MM-dd HH:mm:ss&#8221;</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">//设置日期格式</span></div><br><div id="crayon-58d5f01e10c4d655202073-15" class="crayon-line"><span class="crayon-h">            </span><span class="crayon-v">timeConvertStore</span><span class="crayon-sy">.</span><span class="crayon-e">setConvertTime</span><span class="crayon-sy">(</span><span class="crayon-v">df</span><span class="crayon-sy">.</span><span class="crayon-e">format</span><span class="crayon-sy">(</span><span class="crayon-r">new</span> <span class="crayon-e">Date</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><br><div id="crayon-58d5f01e10c4d655202073-16" class="crayon-line crayon-striped-line"><span class="crayon-h">            </span><span class="crayon-st">return</span> <span class="crayon-v">SUCCESS</span><span class="crayon-sy">;</span></div><br><div id="crayon-58d5f01e10c4d655202073-17" class="crayon-line"><span class="crayon-h">        </span><span class="crayon-sy">}</span></div><br><div id="crayon-58d5f01e10c4d655202073-18" class="crayon-line crayon-striped-line"></div><br><div id="crayon-58d5f01e10c4d655202073-19" class="crayon-line"><span class="crayon-h">        </span><span class="crayon-m">public</span> <span class="crayon-e">TimeConvertStore </span><span class="crayon-e">getTimeConvertStore</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span> <span class="crayon-sy">{</span></div><br><div id="crayon-58d5f01e10c4d655202073-20" class="crayon-line crayon-striped-line"><span class="crayon-h">            </span><span class="crayon-st">return</span> <span class="crayon-v">timeConvertStore</span><span class="crayon-sy">;</span></div><br><div id="crayon-58d5f01e10c4d655202073-21" class="crayon-line"><span class="crayon-h">        </span><span class="crayon-sy">}</span></div><br><div id="crayon-58d5f01e10c4d655202073-22" class="crayon-line crayon-striped-line"></div><br><div id="crayon-58d5f01e10c4d655202073-23" class="crayon-line"><span class="crayon-h">        </span><span class="crayon-m">public</span> <span class="crayon-t">void</span> <span class="crayon-e">setTimeConvertStore</span><span class="crayon-sy">(</span><span class="crayon-e">TimeConvertStore </span><span class="crayon-v">timeConvertStore</span><span class="crayon-sy">)</span> <span class="crayon-sy">{</span></div><br><div id="crayon-58d5f01e10c4d655202073-24" class="crayon-line crayon-striped-line"><span class="crayon-h">            </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">timeConvertStore</span> <span class="crayon-o">=</span> <span class="crayon-v">timeConvertStore</span><span class="crayon-sy">;</span></div><br><div id="crayon-58d5f01e10c4d655202073-25" class="crayon-line"><span class="crayon-h">        </span><span class="crayon-sy">}</span></div><br><div id="crayon-58d5f01e10c4d655202073-26" class="crayon-line crayon-striped-line"></div><br><div id="crayon-58d5f01e10c4d655202073-27" class="crayon-line"><span class="crayon-h">        </span><span class="crayon-m">private</span> <span class="crayon-e">TimeConvertStore </span><span class="crayon-v">timeConvertStore</span><span class="crayon-sy">;</span></div><br><div id="crayon-58d5f01e10c4d655202073-28" class="crayon-line crayon-striped-line"><span class="crayon-h">        </span><span class="crayon-m">private</span> <span class="crayon-m">static</span> <span class="crayon-m">final</span> <span class="crayon-t">long</span> <span class="crayon-v">serialVersionUID</span> <span class="crayon-o">=</span> <span class="crayon-cn">1L</span><span class="crayon-sy">;</span></div><br><div id="crayon-58d5f01e10c4d655202073-29" class="crayon-line"><span class="crayon-sy">}</span></div><br></div><br></td><br></tr><br></tbody><br></table><br></div><br></div>

<p>(4)增加 <span id="crayon-58d5f01e10c53589530287" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">struts</span></span></span>配置到 <span id="crayon-58d5f01e10c58247412714" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">struts</span><span class="crayon-e">.xml</span></span></span>文件中</p>
<p>建立映射关系，将 <span id="crayon-58d5f01e10c5c946316799" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">TimeConvertAction</span></span></span>类（ <span id="crayon-58d5f01e10c61465786460" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Controller</span></span></span>）和 <span id="crayon-58d5f01e10c66271616931" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">TimeConvert</span><span class="crayon-e">.jsp</span></span></span>（View）映射在一起。映射后， <span id="crayon-58d5f01e10c6a864635892" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-i">Struts</span> <span class="crayon-cn">2</span></span></span>框架就能够知道哪个类将响应用户的 <span id="crayon-58d5f01e10c6f486659256" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">action</span></span></span>（<span id="crayon-58d5f01e10c74053574396" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">the </span><span class="crayon-v">URL</span></span></span>），这个类的哪个方法将被调用，哪个 <span id="crayon-58d5f01e10c79412080275" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">View</span></span></span>能够得到这个方法的返回<span id="crayon-58d5f01e10c7d385481333" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-t">String</span></span></span>结果。</p>
<div id="crayon-58d5f01e10c82434025543" class="crayon-syntax crayon-theme-secrets-of-rock crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><br><div class="crayon-plain-wrap"></div><br><div class="crayon-main"><br><table class="crayon-table"><br><tbody><br><tr class="crayon-row"><br><td class="crayon-nums " data-settings="show"><br><div class="crayon-nums-content"><br><div class="crayon-num" data-line="crayon-58d5f01e10c82434025543-1">1</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10c82434025543-2">2</div><br><div class="crayon-num" data-line="crayon-58d5f01e10c82434025543-3">3</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10c82434025543-4">4</div><br><div class="crayon-num" data-line="crayon-58d5f01e10c82434025543-5">5</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10c82434025543-6">6</div><br><div class="crayon-num" data-line="crayon-58d5f01e10c82434025543-7">7</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10c82434025543-8">8</div><br><div class="crayon-num" data-line="crayon-58d5f01e10c82434025543-9">9</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10c82434025543-10">10</div><br><div class="crayon-num" data-line="crayon-58d5f01e10c82434025543-11">11</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10c82434025543-12">12</div><br><div class="crayon-num" data-line="crayon-58d5f01e10c82434025543-13">13</div><br></div><br></td><br><td class="crayon-code"><br><div class="crayon-pre"><br><div id="crayon-58d5f01e10c82434025543-1" class="crayon-line"><span class="crayon-ta">&lt;?</span><span class="crayon-e">xml </span><span class="crayon-i">version</span><span class="crayon-o">=</span><span class="crayon-s">&#8220;1.0&#8221;</span> <span class="crayon-i">encoding</span><span class="crayon-o">=</span><span class="crayon-s">&#8220;UTF-8&#8221;</span><span class="crayon-ta">?&gt;</span></div><br><div id="crayon-58d5f01e10c82434025543-2" class="crayon-line crayon-striped-line"></div><br><div id="crayon-58d5f01e10c82434025543-3" class="crayon-line"><span class="crayon-n">&lt;!DOCTYPE struts PUBLIC</span></div><br><div id="crayon-58d5f01e10c82434025543-4" class="crayon-line crayon-striped-line"><span class="crayon-n">        &#8220;-//Apache Software Foundation//DTD Struts Configuration 2.3//EN&#8221;</span></div><br><div id="crayon-58d5f01e10c82434025543-5" class="crayon-line"><span class="crayon-n">        &#8220;<a href="http://struts.apache.org/dtds/struts-2.3.dtd&#8221;&amp;gt" target="_blank" rel="external">http://struts.apache.org/dtds/struts-2.3.dtd&#8221;&amp;gt</a>;</span></div><br><div id="crayon-58d5f01e10c82434025543-6" class="crayon-line crayon-striped-line"></div><br><div id="crayon-58d5f01e10c82434025543-7" class="crayon-line"><span class="crayon-r ">&lt;struts&gt;</span></div><br><div id="crayon-58d5f01e10c82434025543-8" class="crayon-line crayon-striped-line"><span class="crayon-i ">    </span><span class="crayon-r ">&lt;package </span><span class="crayon-e ">name</span><span class="crayon-o">=</span><span class="crayon-s ">&#8220;Tools&#8221;</span> <span class="crayon-e ">extends</span><span class="crayon-o">=</span><span class="crayon-s ">&#8220;struts-default&#8221;</span><span class="crayon-r ">&gt;</span></div><br><div id="crayon-58d5f01e10c82434025543-9" class="crayon-line"><span class="crayon-i ">    </span><span class="crayon-r ">&lt;action </span><span class="crayon-e ">name</span><span class="crayon-o">=</span><span class="crayon-s ">&#8220;TimeConvert&#8221;</span> <span class="crayon-e ">class</span><span class="crayon-o">=</span><span class="crayon-s ">&#8220;Tools.Controller.TimeConvertAction&#8221;</span> <span class="crayon-e ">method</span><span class="crayon-o">=</span><span class="crayon-s ">&#8220;execute&#8221;</span><span class="crayon-r ">&gt;</span></div><br><div id="crayon-58d5f01e10c82434025543-10" class="crayon-line crayon-striped-line"><span class="crayon-i ">        </span><span class="crayon-r ">&lt;result </span><span class="crayon-e ">name</span><span class="crayon-o">=</span><span class="crayon-s ">&#8220;success&#8221;</span><span class="crayon-r ">&gt;</span><span class="crayon-i ">/TimeConvert.jsp</span><span class="crayon-r ">&lt;/result&gt;</span></div><br><div id="crayon-58d5f01e10c82434025543-11" class="crayon-line"><span class="crayon-i ">    </span><span class="crayon-r ">&lt;/action&gt;</span></div><br><div id="crayon-58d5f01e10c82434025543-12" class="crayon-line crayon-striped-line"><span class="crayon-i ">    </span><span class="crayon-r ">&lt;/package&gt;</span></div><br><div id="crayon-58d5f01e10c82434025543-13" class="crayon-line"><span class="crayon-r ">&lt;/struts&gt;</span></div><br></div><br></td><br></tr><br></tbody><br></table><br></div><br></div>

<p>(5)在 <span id="crayon-58d5f01e10c87651990088" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">index</span><span class="crayon-e">.jsp</span></span></span>中增加链接</p>
<p>首先在 <span id="crayon-58d5f01e10c8c995152216" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">jsp</span></span></span>页面顶部增加 <span id="crayon-58d5f01e10c91357196509" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">taglib</span></span></span>说明</p>
<div id="crayon-58d5f01e10c95047337144" class="crayon-syntax crayon-theme-secrets-of-rock crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><br><div class="crayon-plain-wrap"></div><br><div class="crayon-main"><br><table class="crayon-table"><br><tbody><br><tr class="crayon-row"><br><td class="crayon-nums " data-settings="show"><br><div class="crayon-nums-content"><br><div class="crayon-num" data-line="crayon-58d5f01e10c95047337144-1">1</div><br></div><br></td><br><td class="crayon-code"><br><div class="crayon-pre"><br><div id="crayon-58d5f01e10c95047337144-1" class="crayon-line"><span class="crayon-ta">&lt;%</span><span class="crayon-sy">@</span> <span class="crayon-i">taglib</span> <span class="crayon-v">prefix</span><span class="crayon-o">=</span><span class="crayon-s">&#8220;s&#8221;</span> <span class="crayon-v">uri</span><span class="crayon-o">=</span><span class="crayon-s">&#8220;/struts-tags&#8221;</span> <span class="crayon-ta">%&gt;</span></div><br></div><br></td><br></tr><br></tbody><br></table><br></div><br></div>

<p>然后在 <span id="crayon-58d5f01e10c9a963651442" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">body</span></span></span>标签后增加 <span id="crayon-58d5f01e10c9f648815214" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">p</span></span></span>标签</p>
<div id="crayon-58d5f01e10ca3688937041" class="crayon-syntax crayon-theme-secrets-of-rock crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><br><div class="crayon-plain-wrap"></div><br><div class="crayon-main"><br><table class="crayon-table"><br><tbody><br><tr class="crayon-row"><br><td class="crayon-nums " data-settings="show"><br><div class="crayon-nums-content"><br><div class="crayon-num" data-line="crayon-58d5f01e10ca3688937041-1">1</div><br></div><br></td><br><td class="crayon-code"><br><div class="crayon-pre"><br><div id="crayon-58d5f01e10ca3688937041-1" class="crayon-line"><span class="crayon-o">&lt;</span><span class="crayon-v">p</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span> <span class="crayon-e ">href</span><span class="crayon-o">=</span><span class="crayon-s">&#8220;&lt;s:url action=&#8217;TimeConvert&#8217;/&gt;&#8221;</span><span class="crayon-o">&gt;</span><span class="crayon-v">TimeConvert</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">p</span><span class="crayon-o">&gt;</span></div><br></div><br></td><br></tr><br></tbody><br></table><br></div><br></div>

<p>修改后的代码如下：</p>
<div id="crayon-58d5f01e10cbf485588826" class="crayon-syntax crayon-theme-secrets-of-rock crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><br><div class="crayon-plain-wrap"></div><br><div class="crayon-main"><br><table class="crayon-table"><br><tbody><br><tr class="crayon-row"><br><td class="crayon-nums " data-settings="show"><br><div class="crayon-nums-content"><br><div class="crayon-num" data-line="crayon-58d5f01e10cbf485588826-1">1</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10cbf485588826-2">2</div><br><div class="crayon-num" data-line="crayon-58d5f01e10cbf485588826-3">3</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10cbf485588826-4">4</div><br><div class="crayon-num" data-line="crayon-58d5f01e10cbf485588826-5">5</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10cbf485588826-6">6</div><br><div class="crayon-num" data-line="crayon-58d5f01e10cbf485588826-7">7</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10cbf485588826-8">8</div><br><div class="crayon-num" data-line="crayon-58d5f01e10cbf485588826-9">9</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10cbf485588826-10">10</div><br></div><br></td><br><td class="crayon-code"><br><div class="crayon-pre"><br><div id="crayon-58d5f01e10cbf485588826-1" class="crayon-line"><span class="crayon-ta">&lt;%</span><span class="crayon-sy">@</span> <span class="crayon-i">page</span> <span class="crayon-v">contentType</span><span class="crayon-o">=</span><span class="crayon-s">&#8220;text/html;charset=UTF-8&#8221;</span> <span class="crayon-v">language</span><span class="crayon-o">=</span><span class="crayon-s">&#8220;java&#8221;</span> <span class="crayon-ta">%&gt;</span></div><br><div id="crayon-58d5f01e10cbf485588826-2" class="crayon-line crayon-striped-line"><span class="crayon-ta">&lt;%</span><span class="crayon-sy">@</span> <span class="crayon-i">taglib</span> <span class="crayon-v">prefix</span><span class="crayon-o">=</span><span class="crayon-s">&#8220;s&#8221;</span> <span class="crayon-v">uri</span><span class="crayon-o">=</span><span class="crayon-s">&#8220;/struts-tags&#8221;</span> <span class="crayon-ta">%&gt;</span></div><br><div id="crayon-58d5f01e10cbf485588826-3" class="crayon-line"><span class="crayon-o">&lt;</span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div><br><div id="crayon-58d5f01e10cbf485588826-4" class="crayon-line crayon-striped-line"><span class="crayon-h">  </span><span class="crayon-o">&lt;</span><span class="crayon-v">head</span><span class="crayon-o">&gt;</span></div><br><div id="crayon-58d5f01e10cbf485588826-5" class="crayon-line"><span class="crayon-h">    </span><span class="crayon-o">&lt;</span><span class="crayon-v">title</span><span class="crayon-o">&gt;</span><span class="crayon-sy">$</span><span class="crayon-v">Title</span><span class="crayon-sy">$</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">title</span><span class="crayon-o">&gt;</span></div><br><div id="crayon-58d5f01e10cbf485588826-6" class="crayon-line crayon-striped-line"><span class="crayon-h">  </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">head</span><span class="crayon-o">&gt;</span></div><br><div id="crayon-58d5f01e10cbf485588826-7" class="crayon-line"><span class="crayon-h">  </span><span class="crayon-o">&lt;</span><span class="crayon-v">body</span><span class="crayon-o">&gt;</span></div><br><div id="crayon-58d5f01e10cbf485588826-8" class="crayon-line crayon-striped-line"><span class="crayon-h">  </span><span class="crayon-o">&lt;</span><span class="crayon-v">p</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span> <span class="crayon-e ">href</span><span class="crayon-o">=</span><span class="crayon-s">&#8220;&lt;s:url action=&#8217;TimeConvert&#8217;/&gt;&#8221;</span><span class="crayon-o">&gt;</span><span class="crayon-v">TimeConvert</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">p</span><span class="crayon-o">&gt;</span></div><br><div id="crayon-58d5f01e10cbf485588826-9" class="crayon-line"><span class="crayon-h">  </span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">body</span><span class="crayon-o">&gt;</span></div><br><div id="crayon-58d5f01e10cbf485588826-10" class="crayon-line crayon-striped-line"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">html</span><span class="crayon-o">&gt;</span></div><br></div><br></td><br></tr><br></tbody><br></table><br></div><br></div>

<p>点击调试后，运行效果如下图：</p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/TimeConvertIndex.jpg" alt="TimeConvertIndex"></p>
<p>点击超链接后显示如下：</p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/TimeConvertAction.jpg" alt="TimeConvertAction"></p>
<p><strong>13.增加多语言支持 <span id="crayon-58d5f01e10cc8379890907" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">i18n</span></span></span></strong></p>
<p><strong>需要注意的是，对于 <span id="crayon-58d5f01e10ccd904726684" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">index</span><span class="crayon-e">.jsp</span></span></span>中读取全局配置文件，需要先增加 <span id="crayon-58d5f01e10cd2257370453" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Spring</span></span></span>框架，否则是无法通过在 <span id="crayon-58d5f01e10cd7887972370" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">struts</span><span class="crayon-e">.xml</span></span></span>中增加</strong></p>
<div id="crayon-58d5f01e10cdc120559283" class="crayon-syntax crayon-theme-secrets-of-rock crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><br><div class="crayon-plain-wrap"></div><br><div class="crayon-main"><br><table class="crayon-table"><br><tbody><br><tr class="crayon-row"><br><td class="crayon-nums " data-settings="show"><br><div class="crayon-nums-content"><br><div class="crayon-num" data-line="crayon-58d5f01e10cdc120559283-1">1</div><br></div><br></td><br><td class="crayon-code"><br><div class="crayon-pre"><br><div id="crayon-58d5f01e10cdc120559283-1" class="crayon-line"><span class="crayon-r ">&lt;constant </span><span class="crayon-e ">name</span><span class="crayon-o">=</span><span class="crayon-s ">&#8220;struts.custom.i18n.resources&#8221;</span> <span class="crayon-e ">value</span><span class="crayon-o">=</span><span class="crayon-s ">&#8220;global&#8221;</span><span class="crayon-r "> /&gt;</span></div><br></div><br></td><br></tr><br></tbody><br></table><br></div><br></div>

<p><strong>来实现的。如下图所示：</strong></p>
<p><img src="https://www.mobibrw.com/wp-content/uploads/2016/03/struts.custom.i18n.resources.png" alt="struts.custom.i18n.resources"></p>
<p>在跟&#8221; <span id="crayon-58d5f01e10ce1480555457" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">TimeConvertAction</span><span class="crayon-e">.java</span></span></span>&#8220;相同的目录下面建立英文语言文件<span id="crayon-58d5f01e10ce6629690162" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">TimeConvertAction_en</span><span class="crayon-e">.properties</span></span></span>，中文语言文件 <span id="crayon-58d5f01e10ceb019061355" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">TimeConvertAction_zh</span><span class="crayon-e">.properties</span></span></span>,注意，中文只能是Unicode编码的格式，否则会出现乱码。格式类似<span id="crayon-58d5f01e10cf0788478152" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-sy">\</span><span class="crayon-v">u65f6</span><span class="crayon-sy">\</span><span class="crayon-v">u95f4</span><span class="crayon-sy">\</span><span class="crayon-v">u8f6c</span><span class="crayon-sy">\</span><span class="crayon-v">u6362</span></span></span>这样的格式。</p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/Struts2i18n.jpg" alt="Struts2i18n"></p>
<p>其中 <span id="crayon-58d5f01e10cf5197871829" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">TimeConvertAction_en</span><span class="crayon-e">.properties</span></span></span>中的内容如下：</p>
<div id="crayon-58d5f01e10cfa021083820" class="crayon-syntax crayon-theme-secrets-of-rock crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><br><div class="crayon-plain-wrap"></div><br><div class="crayon-main"><br><table class="crayon-table"><br><tbody><br><tr class="crayon-row"><br><td class="crayon-nums " data-settings="show"><br><div class="crayon-nums-content"><br><div class="crayon-num" data-line="crayon-58d5f01e10cfa021083820-1">1</div><br></div><br></td><br><td class="crayon-code"><br><div class="crayon-pre"><br><div id="crayon-58d5f01e10cfa021083820-1" class="crayon-line"><span class="crayon-i">Title</span><span class="crayon-o">=</span><span class="crayon-i">TimeConvert</span></div><br></div><br></td><br></tr><br></tbody><br></table><br></div><br></div>

<p><span id="crayon-58d5f01e10cff115029346" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">TimeConvertAction_cn</span><span class="crayon-e">.properties</span></span></span>中的内容如下：</p>
<div id="crayon-58d5f01e10d03402114927" class="crayon-syntax crayon-theme-secrets-of-rock crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><br><div class="crayon-plain-wrap"></div><br><div class="crayon-main"><br><table class="crayon-table"><br><tbody><br><tr class="crayon-row"><br><td class="crayon-nums " data-settings="show"><br><div class="crayon-nums-content"><br><div class="crayon-num" data-line="crayon-58d5f01e10d03402114927-1">1</div><br></div><br></td><br><td class="crayon-code"><br><div class="crayon-pre"><br><div id="crayon-58d5f01e10d03402114927-1" class="crayon-line"><span class="crayon-i">Title</span><span class="crayon-o">=</span><span class="crayon-sy">\</span><span class="crayon-i">u65f6</span><span class="crayon-sy">\</span><span class="crayon-i">u95f4</span><span class="crayon-sy">\</span><span class="crayon-i">u8f6c</span><span class="crayon-sy">\</span><span class="crayon-i">u6362</span></div><br></div><br></td><br></tr><br></tbody><br></table><br></div><br></div>

<p>然后修改 <span id="crayon-58d5f01e10d08605982037" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">TimeConvert</span><span class="crayon-e">.jsp</span></span></span>,在Title中引用我们定义的语言。修改</p>
<div id="crayon-58d5f01e10d0d141429001" class="crayon-syntax crayon-theme-secrets-of-rock crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><br><div class="crayon-plain-wrap"></div><br><div class="crayon-main"><br><table class="crayon-table"><br><tbody><br><tr class="crayon-row"><br><td class="crayon-nums " data-settings="show"><br><div class="crayon-nums-content"><br><div class="crayon-num" data-line="crayon-58d5f01e10d0d141429001-1">1</div><br></div><br></td><br><td class="crayon-code"><br><div class="crayon-pre"><br><div id="crayon-58d5f01e10d0d141429001-1" class="crayon-line"><span class="crayon-r ">&lt;title&gt;</span><span class="crayon-i ">Title</span><span class="crayon-r ">&lt;/title&gt;</span></div><br></div><br></td><br></tr><br></tbody><br></table><br></div><br></div>

<p>为：</p>
<div id="crayon-58d5f01e10d12124195609" class="crayon-syntax crayon-theme-secrets-of-rock crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><br><div class="crayon-plain-wrap"></div><br><div class="crayon-main"><br><table class="crayon-table"><br><tbody><br><tr class="crayon-row"><br><td class="crayon-nums " data-settings="show"><br><div class="crayon-nums-content"><br><div class="crayon-num" data-line="crayon-58d5f01e10d12124195609-1">1</div><br></div><br></td><br><td class="crayon-code"><br><div class="crayon-pre"><br><div id="crayon-58d5f01e10d12124195609-1" class="crayon-line"><span class="crayon-r ">&lt;title&gt;</span><span class="crayon-r ">&lt;s:text </span><span class="crayon-e ">name</span><span class="crayon-o">=</span><span class="crayon-s ">&#8220;Title&#8221;</span><span class="crayon-r ">/&gt;</span><span class="crayon-r ">&lt;/title&gt;</span></div><br></div><br></td><br></tr><br></tbody><br></table><br></div><br></div>

<p>修改后的 <span id="crayon-58d5f01e10d17603673882" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">TimeConvert</span><span class="crayon-e">.jsp</span></span></span>文件如下：</p>
<div id="crayon-58d5f01e10d1f432953889" class="crayon-syntax crayon-theme-secrets-of-rock crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><br><div class="crayon-plain-wrap"></div><br><div class="crayon-main"><br><table class="crayon-table"><br><tbody><br><tr class="crayon-row"><br><td class="crayon-nums " data-settings="show"><br><div class="crayon-nums-content"><br><div class="crayon-num" data-line="crayon-58d5f01e10d1f432953889-1">1</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10d1f432953889-2">2</div><br><div class="crayon-num" data-line="crayon-58d5f01e10d1f432953889-3">3</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10d1f432953889-4">4</div><br><div class="crayon-num" data-line="crayon-58d5f01e10d1f432953889-5">5</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10d1f432953889-6">6</div><br><div class="crayon-num" data-line="crayon-58d5f01e10d1f432953889-7">7</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10d1f432953889-8">8</div><br><div class="crayon-num" data-line="crayon-58d5f01e10d1f432953889-9">9</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10d1f432953889-10">10</div><br></div><br></td><br><td class="crayon-code"><br><div class="crayon-pre"><br><div id="crayon-58d5f01e10d1f432953889-1" class="crayon-line"><span class="crayon-ta">&lt;%</span><span class="crayon-sy">@</span> <span class="crayon-i">page</span> <span class="crayon-v">contentType</span><span class="crayon-o">=</span><span class="crayon-s">&#8220;text/html;charset=UTF-8&#8221;</span> <span class="crayon-v">language</span><span class="crayon-o">=</span><span class="crayon-s">&#8220;java&#8221;</span> <span class="crayon-ta">%&gt;</span></div><br><div id="crayon-58d5f01e10d1f432953889-2" class="crayon-line crayon-striped-line"><span class="crayon-ta">&lt;%</span><span class="crayon-sy">@</span> <span class="crayon-i">taglib</span> <span class="crayon-v">prefix</span><span class="crayon-o">=</span><span class="crayon-s">&#8220;s&#8221;</span> <span class="crayon-v">uri</span><span class="crayon-o">=</span><span class="crayon-s">&#8220;/struts-tags&#8221;</span> <span class="crayon-ta">%&gt;</span></div><br><div id="crayon-58d5f01e10d1f432953889-3" class="crayon-line"><span class="crayon-r ">&lt;html&gt;</span></div><br><div id="crayon-58d5f01e10d1f432953889-4" class="crayon-line crayon-striped-line"><span class="crayon-r ">&lt;head&gt;</span></div><br><div id="crayon-58d5f01e10d1f432953889-5" class="crayon-line"><span class="crayon-i ">    </span><span class="crayon-r ">&lt;title&gt;</span><span class="crayon-r ">&lt;s:text </span><span class="crayon-e ">name</span><span class="crayon-o">=</span><span class="crayon-s ">&#8220;Title&#8221;</span><span class="crayon-r ">/&gt;</span><span class="crayon-r ">&lt;/title&gt;</span></div><br><div id="crayon-58d5f01e10d1f432953889-6" class="crayon-line crayon-striped-line"><span class="crayon-r ">&lt;/head&gt;</span></div><br><div id="crayon-58d5f01e10d1f432953889-7" class="crayon-line"><span class="crayon-r ">&lt;body&gt;</span></div><br><div id="crayon-58d5f01e10d1f432953889-8" class="crayon-line crayon-striped-line"><span class="crayon-r ">&lt;h2&gt;</span><span class="crayon-r ">&lt;s:property </span><span class="crayon-e ">value</span><span class="crayon-o">=</span><span class="crayon-s ">&#8220;TimeConvertStore.convertTime&#8221;</span><span class="crayon-r "> /&gt;</span><span class="crayon-r ">&lt;/h2&gt;</span></div><br><div id="crayon-58d5f01e10d1f432953889-9" class="crayon-line"><span class="crayon-r ">&lt;/body&gt;</span></div><br><div id="crayon-58d5f01e10d1f432953889-10" class="crayon-line crayon-striped-line"><span class="crayon-r ">&lt;/html&gt;</span></div><br></div><br></td><br></tr><br></tbody><br></table><br></div><br></div>

<p>点击调试后，打开的页面中，会看到网页的Title变成了中文的&#8221;时间转换&#8221;。</p>
<p><strong>14. <span id="crayon-58d5f01e10d25271702373" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Strut2</span></span></span>增加对 <span id="crayon-58d5f01e10d2a746243318" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Json</span></span></span>的支持</strong></p>
<p>默认情况下 <span id="crayon-58d5f01e10d2f029461430" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Struts2</span></span></span>不支持直接返回 <span id="crayon-58d5f01e10d34425191052" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">JSON</span></span></span>，比较方便的方式是使用 <span id="crayon-58d5f01e10d38572908229" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">struts2</span><span class="crayon-o">&#8211;</span><span class="crayon-v">json</span><span class="crayon-o">&#8211;</span><span class="crayon-v">plugin</span></span></span>来支持。</p>
<p>(1)增加 <span id="crayon-58d5f01e10d3d515018602" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">spring</span></span></span>框架，由于 <span id="crayon-58d5f01e10d42835411859" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">struts2</span><span class="crayon-o">&#8211;</span><span class="crayon-v">json</span><span class="crayon-o">&#8211;</span><span class="crayon-v">plugin</span></span></span>需要调用spring框架，因此需要增加spring框架。右击工程，选择&#8221; <span id="crayon-58d5f01e10d47428127992" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">Add </span><span class="crayon-e">Framework </span><span class="crayon-v">Support</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span></span></span>&#8220;。</p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/AddFrameworkSupport.png" alt="AddFrameworkSupport"></p>
<p>在弹出的窗口中，选择&#8221; <span id="crayon-58d5f01e10d4c107710020" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Spring</span></span></span>&#8220;,&#8221; <span id="crayon-58d5f01e10d51022002774" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">Spring </span><span class="crayon-v">MVC</span></span></span>&#8220;两项，同时在点击&#8221; <span id="crayon-58d5f01e10d55709133875" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Spring</span></span></span>&#8220;的时候，勾选&#8221; <span id="crayon-58d5f01e10d5a210105737" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">Create </span><span class="crayon-e">emtpy </span><span class="crayon-v">spring</span><span class="crayon-o">&#8211;</span><span class="crayon-v">config</span><span class="crayon-e">.xml</span></span></span>&#8220;。</p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/SpringSelectOptions.jpg" alt="SpringSelectOptions"></p>
<p>然后点击&#8221; <span id="crayon-58d5f01e10d5f758296136" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">OK</span></span></span>&#8220;，等待需要的 <span id="crayon-58d5f01e10d64204189244" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Jar</span></span></span>包下载完成。成功下载完成后，可以在 <span id="crayon-58d5f01e10d69511576771" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">lib</span></span></span>目录下看到非常多的 <span id="crayon-58d5f01e10d6e274355337" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Jar</span></span></span>文件被添加进来了。在 <span id="crayon-58d5f01e10d72455656933" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">web</span></span></span>目录下的 <span id="crayon-58d5f01e10d77795691720" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">WEB</span><span class="crayon-o">&#8211;</span><span class="crayon-v">INF</span></span></span>目录下多出来了 <span id="crayon-58d5f01e10d7c275817183" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">applicationContext</span><span class="crayon-e">.xml</span></span></span>, <span id="crayon-58d5f01e10d81485895670" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">dispatcher</span><span class="crayon-o">&#8211;</span><span class="crayon-v">servlet</span><span class="crayon-e">.xml</span></span></span>这两个文件。<img src="http://www.mobibrw.com/wp-content/uploads/2016/03/SpringFrameworkAddComplete.jpg" alt="SpringFrameworkAddComplete"></p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/SpringFrameworkAddCompleteWebInf.jpg" alt="SpringFrameworkAddCompleteWebInf"></p>
<p>完成后点击界面上侧的&#8221; <span id="crayon-58d5f01e10d86739266551" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">Project </span><span class="crayon-v">Structure</span></span></span>&#8220;图标，解决提示的 <span id="crayon-58d5f01e10d8b257335619" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Jar</span></span></span>包导出问题。</p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/SpringFrameworkProjectStructure.jpg" alt="SpringFrameworkProjectStructure"></p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/SpringFrameworkFix.jpg" alt="SpringFrameworkFix"></p>
<p>都选择第一项&#8221; <span id="crayon-58d5f01e10d90106382030" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-i">Add</span> <span class="crayon-s">&#8216;xxxxxxxxxxx&#8217;</span> <span class="crayon-st">to</span> <span class="crayon-e">the </span><span class="crayon-v">artifact</span></span></span>&#8220;.</p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/SpringFrameworkFixMenu.jpg" alt="SpringFrameworkFixMenu"></p>
<p>（2）确认项目使用的 <span id="crayon-58d5f01e10d95873555876" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Struts2</span></span></span>的版本。点击界面上侧的&#8221; <span id="crayon-58d5f01e10d9c213875287" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">Project </span><span class="crayon-v">Structure</span></span></span>&#8220;图标</p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/SpringFrameworkProjectStructure.jpg" alt="SpringFrameworkProjectStructure"></p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/StrutsVersion2-2.3.20.1.jpg" alt="StrutsVersion2-2.3.20.1"></p>
<p>从上图可以看到我们的 <span id="crayon-58d5f01e10da1081815882" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Struts2</span></span></span>的版本是 <span id="crayon-58d5f01e10da6742751157" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-cn">2.3.20.1</span></span></span></p>
<p>（3）手工去下载<a href="http://mvnrepository.com/artifact/org.apache.struts/struts2-json-plugin" target="_blank" rel="external">struts2-json-plugin</a>插件，选择与我们的 <span id="crayon-58d5f01e10dab945889678" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Struts2</span></span></span>的版本相同的版本的插件。之所以需要手工下载而不是要求 <span id="crayon-58d5f01e10db0465704536" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">IntelliJ </span><span class="crayon-v">IDEA</span></span></span>在 <span id="crayon-58d5f01e10db5671268701" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Maven</span></span></span>中自动下载原因在于，由于我们建立项目的时候没有使用 <span id="crayon-58d5f01e10dba605292530" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Maven</span></span></span>，因此我们项目 <span id="crayon-58d5f01e10dbe918753195" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Lib</span></span></span>目录下的 <span id="crayon-58d5f01e10dc3530155692" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Struts2</span></span></span>的 <span id="crayon-58d5f01e10dc8595094394" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Jar</span></span></span>包是没有带版本号的。而如果要求 <span id="crayon-58d5f01e10dcd260015862" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Maven</span></span></span>自动下载的话，会由于找不到带版本号的 <span id="crayon-58d5f01e10dd1700834189" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Struts2</span></span></span>的 <span id="crayon-58d5f01e10dd6153511353" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Jar</span></span></span>包，而自动引入一堆的带版本号的<span id="crayon-58d5f01e10ddb811320312" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Struts2</span></span></span>的 <span id="crayon-58d5f01e10ddf762988279" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Jar</span></span></span>包。导致 <span id="crayon-58d5f01e10de4177340922" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Struts2</span></span></span>的 <span id="crayon-58d5f01e10de9175058394" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Jar</span></span></span>包出现两份，一份是有版本号的，一份是我们现在的样子。导致无法编译通过，因此还是手工引入即可。</p>
<p>由于我们的 <span id="crayon-58d5f01e10dee764392666" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">Struts2</span></span></span>的版本是 <span id="crayon-58d5f01e10df3749372736" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-cn">2.3.20.1</span></span></span>，因此，我们下载 <span id="crayon-58d5f01e10df7246817718" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-cn">2.3.20.1</span></span></span>版本的<span id="crayon-58d5f01e10dfc368772145" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">struts2</span><span class="crayon-o">&#8211;</span><span class="crayon-v">json</span><span class="crayon-o">&#8211;</span><span class="crayon-v">plugin</span></span></span>.<img src="http://www.mobibrw.com/wp-content/uploads/2016/03/Struts2JSONPlugin.jpg" alt="Struts2JSONPlugin"></p>
<p>下载完成后放到项目的 <span id="crayon-58d5f01e10e01276584467" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">lib</span></span></span>目录下，然后右击 <span id="crayon-58d5f01e10e06309168318" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">struts2</span><span class="crayon-o">&#8211;</span><span class="crayon-v">json</span><span class="crayon-o">&#8211;</span><span class="crayon-v">plugin</span><span class="crayon-o">&#8211;</span><span class="crayon-cn">2.3.20.1.jar</span></span></span>,选择&#8221; <span id="crayon-58d5f01e10e0a559041131" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">Add </span><span class="crayon-st">As</span> <span class="crayon-v">Library</span></span></span>&#8220;.</p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/AddasLibrary.jpg" alt="AddasLibrary"></p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/AddasLibraryWindow.jpg" alt="AddasLibraryWindow"></p>
<p>点击 <span id="crayon-58d5f01e10e0f149889592" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">OK</span></span></span>后关闭。</p>
<p>继续点击界面右上侧的&#8221; <span id="crayon-58d5f01e10e14122294082" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-e">Project </span><span class="crayon-v">Structure</span></span></span>&#8220;图标</p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/SpringFrameworkProjectStructure.jpg" alt="SpringFrameworkProjectStructure"></p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/AddStruts2-json-plugin-2.3.20.1totheartifact.png" alt="AddStruts2-json-plugin-2.3.20.1totheartifact"></p>
<p>修改 <span id="crayon-58d5f01e10e19837700719" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">src</span></span></span>目录下的 <span id="crayon-58d5f01e10e20220914797" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">struts</span><span class="crayon-e">.xml</span></span></span>。调整部分如下图所示。</p>
<p><img src="http://www.mobibrw.com/wp-content/uploads/2016/03/ActionJsonResp.jpg" alt="ActionJsonResp"></p>
<p><span id="crayon-58d5f01e10e25821818847" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">action</span></span></span>的返回类型为 <span id="crayon-58d5f01e10e2a050160299" class="crayon-syntax crayon-syntax-inline  crayon-theme-secrets-of-rock crayon-theme-secrets-of-rock-inline crayon-font-monaco"><span class="crayon-pre crayon-code"><span class="crayon-v">json</span></span></span>时的可配置参数详解：</p>
<div id="crayon-58d5f01e10e2f173363728" class="crayon-syntax crayon-theme-secrets-of-rock crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><br><div class="crayon-plain-wrap"></div><br><div class="crayon-main"><br><table class="crayon-table"><br><tbody><br><tr class="crayon-row"><br><td class="crayon-nums " data-settings="show"><br><div class="crayon-nums-content"><br><div class="crayon-num" data-line="crayon-58d5f01e10e2f173363728-1">1</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10e2f173363728-2">2</div><br><div class="crayon-num" data-line="crayon-58d5f01e10e2f173363728-3">3</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10e2f173363728-4">4</div><br><div class="crayon-num" data-line="crayon-58d5f01e10e2f173363728-5">5</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10e2f173363728-6">6</div><br><div class="crayon-num" data-line="crayon-58d5f01e10e2f173363728-7">7</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10e2f173363728-8">8</div><br><div class="crayon-num" data-line="crayon-58d5f01e10e2f173363728-9">9</div><br><div class="crayon-num crayon-striped-num" data-line="crayon-58d5f01e10e2f173363728-10">10</div><br><div class="crayon-num" data-line="crayon-58d5f01e10e2f173363728-11">11</div><br></div><br></td><br><td class="crayon-code"><br><div class="crayon-pre"><br><div id="crayon-58d5f01e10e2f173363728-1" class="crayon-line"><span class="crayon-r ">&lt;result </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s ">&#8220;json&#8221;</span><span class="crayon-r ">&gt;</span><span class="crayon-i ">  </span></div><br><div id="crayon-58d5f01e10e2f173363728-2" class="crayon-line crayon-striped-line"><span class="crayon-c">&lt;!&#8211; 这里指定将被Struts2序列化的属性，该属性在action中必须有对应的getter方法 &#8211;&gt;</span><span class="crayon-i ">  </span></div><br><div id="crayon-58d5f01e10e2f173363728-3" class="crayon-line"><span class="crayon-c">&lt;!&#8211; 默认将会序列所有有返回值的getter方法的值，而无论该方法是否有对应属性 &#8211;&gt;</span><span class="crayon-i ">  </span></div><br><div id="crayon-58d5f01e10e2f173363728-4" class="crayon-line crayon-striped-line"><span class="crayon-r ">&lt;param </span><span class="crayon-e ">name</span><span class="crayon-o">=</span><span class="crayon-s ">&#8220;root&#8221;</span><span class="crayon-r ">&gt;</span><span class="crayon-i ">dataMap</span><span class="crayon-r ">&lt;/param&gt;</span><span class="crayon-i ">  </span></div><br><div id="crayon-58d5f01e10e2f173363728-5" class="crayon-line"><span class="crayon-c">&lt;!&#8211; 指定是否序列化空的属性 &#8211;&gt;</span><span class="crayon-i ">  </span></div><br><div id="crayon-58d5f01e10e2f173363728-6" class="crayon-line crayon-striped-line"><span class="crayon-r ">&lt;param </span><span class="crayon-e ">name</span><span class="crayon-o">=</span><span class="crayon-s ">&#8220;excludeNullProperties&#8221;</span><span class="crayon-r ">&gt;</span><span class="crayon-i ">true</span><span class="crayon-r ">&lt;/param&gt;</span><span class="crayon-i ">  </span></div><br><div id="crayon-58d5f01e10e2f173363728-7" class="crayon-line"><span class="crayon-c">&lt;!&#8211; 这里指定将序列化dataMap中的那些属性 &#8211;&gt;</span><span class="crayon-i ">  </span></div><br><div id="crayon-58d5f01e10e2f173363728-8" class="crayon-line crayon-striped-line"><span class="crayon-r ">&lt;param </span><span class="crayon-e ">name</span><span class="crayon-o">=</span><span class="crayon-s ">&#8220;includeProperties&#8221;</span><span class="crayon-r ">&gt;</span><span class="crayon-i ">userList.*</span><span class="crayon-r ">&lt;/param&gt;</span><span class="crayon-i ">  </span></div><br><div id="crayon-58d5f01e10e2f173363728-9" class="crayon-line"><span class="crayon-c">&lt;!&#8211; 这里指定将要从dataMap中排除那些属性，这些排除的属性将不被序列化，一般不与上边的参数配置同时出现 &#8211;&gt;</span><span class="crayon-i ">  </span></div><br><div id="crayon-58d5f01e10e2f173363728-10" class="crayon-line crayon-striped-line"><span class="crayon-r ">&lt;param </span><span class="crayon-e ">name</span><span class="crayon-o">=</span><span class="crayon-s ">&#8220;excludeProperties&#8221;</span><span class="crayon-r ">&gt;</span><span class="crayon-i ">SUCCESS</span><span class="crayon-r ">&lt;/param&gt;</span><span class="crayon-i ">  </span></div><br><div id="crayon-58d5f01e10e2f173363728-11" class="crayon-line"><span class="crayon-r ">&lt;/result&gt;</span></div><br></div><br></td><br></tr><br></tbody><br></table><br></div><br></div>

<p><strong>15.参考链接：</strong></p>
<p><a href="http://blog.sina.com.cn/s/blog_5386a79d0100sp6z.html" target="_blank" rel="external">经验分享：IntelliJ IDEA 10.x中配置支持Struts 2的HelloWorld样例</a></p>
<p><a href="http://www.tutorialspoint.com/struts_2/struts_localization.htm" target="_blank" rel="external">Localization, internationalization (i18n)</a></p>
<p><a href="http://kingxss.iteye.com/blog/1622455" target="_blank" rel="external">Struts2返回JSON对象的方法总结</a></p>
<p><a href="http://www.mkyong.com/struts2/struts-2-i18n-or-localization-example/" target="_blank" rel="external">Struts 2 – i18n or localization example</a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Java/" rel="tag"># Java</a>
          
            <a href="/tags/JavaEE/" rel="tag"># JavaEE</a>
          
            <a href="/tags/JSP/" rel="tag"># JSP</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/03/10/Visual-Studio-2017-各版本安装包离线下载、安装全解析/" rel="next" title="Visual Studio 2017 各版本安装包离线下载、安装全解析">
                <i class="fa fa-chevron-left"></i> Visual Studio 2017 各版本安装包离线下载、安装全解析
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/04/08/java-IO流文件的读写具体实例/" rel="prev" title="java IO流文件的读写具体实例">
                java IO流文件的读写具体实例 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="i_D.S." />
          <p class="site-author-name" itemprop="name">i_D.S.</p>
           
              <p class="site-description motion-element" itemprop="description">不奋斗的人生，和咸鱼有什么分别</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">17</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">18</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">i_D.S.</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  





  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>





  

  

  

  

</body>
</html>
